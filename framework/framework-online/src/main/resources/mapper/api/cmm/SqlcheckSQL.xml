<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mgkim.framework.online.api.cmm.mapper.SqlcheckMapper">

  <select id="selectNoParam" resultType="java.util.Map">
    SELECT 
           1 AS col
      FROM DUAL
  </select>

  <select id="selectListByCountSql2" parameterType="SqlcheckVO" resultType="java.util.Map">
    SELECT 
      <foreach collection="strList" index="index" item="item" separator="," open="" close="">
        #{item} AS col#{index}
      </foreach>
      FROM DUAL
  </select>

  <select id="selectListByCountSql2-count" parameterType="SqlcheckVO" resultType="int">
    SELECT 
           COUNT(1)
      FROM (SELECT 
              <foreach collection="strList" index="index" item="item" separator="," open="" close="">
                #{item} AS col#{index}
              </foreach>
              FROM DUAL)
  </select>

  <select id="selectForeachListByVO" parameterType="SqlcheckVO" resultType="java.util.Map">
    SELECT 
    <choose>
      <when test='strList == null or strList.size() == 0'>
        <![CDATA[
        0 AS col_0
        ]]>
      </when>
      <otherwise>
        <foreach collection="strList" index="index" item="item" separator="," open="" close="">
          #{item} AS col#{index}
        </foreach>
      </otherwise>
    </choose>
      FROM DUAL
  </select>

  <select id="selectForeachListByMap" parameterType="java.util.Map" resultType="java.util.Map">
    SELECT 
    <choose>
      <when test='strList == null or strList.size() == 0'>
        <![CDATA[
        0 AS col_0
        ]]>
      </when>
      <otherwise>
        <foreach collection="strList" index="index" item="item" separator="," open="" close="">
          #{item} AS col#{index}
        </foreach>
      </otherwise>
    </choose>
      FROM DUAL
  </select>

</mapper>